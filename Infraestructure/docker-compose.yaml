version: "3.2"

services:
    neo4j:
        build:
            dockerfile: Dockerfile.db
            context: ../DB
        image: ollin18/senate_neo:0.1
        container_name: senate_db
        depends_on:
            - scraper
        environment:
            - NEO4J_AUTH=none
        ports:
            - "7474:7474"
            - "7687:7687"
        volumes:
            - ../DB/nodes:/nodes
            - ../DB/edges:/edges
            - ../Scraping/data:/datasc

    scraper:
        build:
            dockerfile: Dockerfile.scrap
            context: ../Scraping
        image: ollin18/scraper:0.1
        container_name: senate_scrap
        volumes:
            - ../Scraping/data:/data
        command: ["src/execute.sh"]

volumes:
    data:
    nodes:
    edges:
